<component-set>
  <components>
    <!--
     | GWT Application.
     |
     | Packaged as a WAR to be used as an overlay.
     |-->
    <component>
      <role>org.apache.maven.lifecycle.mapping.LifecycleMapping</role>
      <role-hint>gwt-app</role-hint>
      <implementation>
        org.apache.maven.lifecycle.mapping.DefaultLifecycleMapping
      </implementation>
      <configuration>
        <phases>
          <process-resources>
            org.apache.maven.plugins:maven-resources-plugin:resources
          </process-resources>
          <compile>
            org.apache.maven.plugins:maven-compiler-plugin:compile
          </compile>
          <process-test-resources>
            org.apache.maven.plugins:maven-resources-plugin:testResources
          </process-test-resources>
          <test-compile>
            org.apache.maven.plugins:maven-compiler-plugin:testCompile
          </test-compile>
          <test>
            org.apache.maven.plugins:maven-surefire-plugin:test
          </test>
          <prepare-package>
            ${project.groupId}:${project.artifactId}:${project.version}:compile
          </prepare-package>
          <package>
            ${project.groupId}:${project.artifactId}:${project.version}:package-app
          </package>
          <install>
            org.apache.maven.plugins:maven-install-plugin:install
          </install>
          <deploy>
            org.apache.maven.plugins:maven-deploy-plugin:deploy
          </deploy>
        </phases>
      </configuration>
    </component>
    <component>
      <role>org.apache.maven.artifact.handler.ArtifactHandler</role>
      <role-hint>gwt-app</role-hint>
      <implementation>
        org.apache.maven.artifact.handler.DefaultArtifactHandler
      </implementation>
      <configuration>
        <type>gwt-app</type>
        <extension>war</extension>
        <packaging>gwt-app</packaging>
        <language>java</language>
        <addedToClasspath>false</addedToClasspath>
        <includesDependencies>true</includesDependencies>
      </configuration>
    </component>

    <!--
     | GWT Library.
     |
     | Packaged as a JAR.
     |-->
    <component>
      <role>org.apache.maven.lifecycle.mapping.LifecycleMapping</role>
      <role-hint>gwt-lib</role-hint>
      <implementation>
        org.apache.maven.lifecycle.mapping.DefaultLifecycleMapping
      </implementation>
      <configuration>
        <phases>
          <process-resources>
            org.apache.maven.plugins:maven-resources-plugin:resources
          </process-resources>
          <compile>
            org.apache.maven.plugins:maven-compiler-plugin:compile
          </compile>
          <process-test-resources>
            org.apache.maven.plugins:maven-resources-plugin:testResources
          </process-test-resources>
          <test-compile>
            org.apache.maven.plugins:maven-compiler-plugin:testCompile
          </test-compile>
          <test>
            org.apache.maven.plugins:maven-surefire-plugin:test
          </test>
          <!-- TODO: generate gwtar files in prepare-package phase -->
          <package>
            ${project.groupId}:${project.artifactId}:${project.version}:package-lib
          </package>
          <install>
            org.apache.maven.plugins:maven-install-plugin:install
          </install>
          <deploy>
            org.apache.maven.plugins:maven-deploy-plugin:deploy
          </deploy>
        </phases>
      </configuration>
    </component>
    <component>
      <role>org.apache.maven.artifact.handler.ArtifactHandler</role>
      <role-hint>gwt-lib</role-hint>
      <implementation>
        org.apache.maven.artifact.handler.DefaultArtifactHandler
      </implementation>
      <configuration>
        <type>gwt-lib</type>
        <extension>jar</extension>
        <packaging>gwt-lib</packaging>
        <language>java</language>
        <addedToClasspath>true</addedToClasspath>
      </configuration>
    </component>
  </components>
</component-set>